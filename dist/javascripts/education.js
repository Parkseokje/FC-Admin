"use strict";requirejs(["common"],function(e){function t(){var e=r.find("option:selected").val(),t=r.find("option:selected").text(),i="",a=$('.list-group-item[data-course-id="'+e+'" ]');if(a.length)return a.show(),!1;i+='<li class="list-group-item" data-course-id="'+e+'">',i+='    <div class="course">',i+='        <span class="handle ui-sortable-handle">',i+='            <i class="fa fa-ellipsis-v"></i>',i+='            <i class="fa fa-ellipsis-v"></i>',i+="        </span>",i+=t,i+='        <a href="#" class="btn-delete-course">',i+='            <i class="fa fa-remove text-red"></i>',i+="        </a>",i+="    </div>",i+="</li>",s.append(i)}function i(e){e.remove()}function a(){var e=[],t=0,i=0;return $("#draggablePanelList").find("li.list-group-item").each(function(a){var n={course_id:$(this).data("course-id"),order:t};n.id?$(this).is(":visible")?n.mode="UPDATE":n.mode="DELETE":n.mode="INSERT",e.push(n),"DELETE"!==n.mode&&(i+=1,t+=1)}),{data:e,valid_course_count:i}}var n=$(".btn-add-course-edu"),r=$("#select-course-list"),s=$("#draggablePanelList"),o=$(".btn-register-course-submit");$(function(){e.initDataTable($("#table_education")),$("#draggablePanelList").sortable({placeholder:"sort-highlight",handle:".handle",forcePlaceholderSize:!0,zIndex:999999,start:function(e,t){$(this).attr("data-previndex",t.item.index())},update:function(e,t){var i=t.item.index(),a=$(this).attr("data-previndex");$(this).removeAttr("data-previndex"),console.log("newIndex : "+i+" oldIndex : "+a)}})}),n.bind("click",function(){t()}),s.on("click","> li",function(e){i($(e.target).parent().parent().parent())}),$(".btn-delete-course").bind("click",function(){i($(this).parent().parent())}),o.bind("click",function(e){e.preventDefault();var t=($("#frm_register_edu"),$(".course-name").first()),i=tinymce.activeEditor.getContent(),n=a();return""===t.val()?(alert("교육과정명을 입력하세요."),t.focus(),!1):""===i?(alert("교육과정 소개를 입력해주세요."),i.focus(),!1):n.valid_course_count?!!confirm("등록하시겠습니까?")&&void axios({method:"post",url:"/education/create/edu",data:{name:t.val().trim(),desc:i,course_group_list:n.data}}).then(function(e){1==e.data.success?alert("교육과정을 등록하였습니다."):alert("알 수 없는 오류가 발생했습니다. 잠시 후에 다시 시도해주세요."),window.location.reload()}):(alert("강의를 추가해주세요."),!1)})});
//# sourceMappingURL=../maps/education.js.map
