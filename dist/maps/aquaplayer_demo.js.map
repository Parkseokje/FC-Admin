{"version":3,"sources":["aquaplayer_demo.js"],"names":["window","requirejs","$","launch_html5","url","open","focus","launch","options","navigator","userAgent","match","alert","params","option","console","log","encodeURIComponent","mf","Util","indicateDownload","nc_app_url","location","href","confirm","NPLAYER_SETUP_URL","mtype","isAccessible","on","left","top","width","height","title","noresize","start_player"],"mappings":"YAAAA,QAAOC,WACL,UAGA,SAAQC,EAAKF,GAsBZ,QAAAG,GAAAC,GAFUJ,OAAOK,KAAK,eAAgB,cAAe,6GAItDC,QAGI,QAAAC,GAAAH,EAAAI,GACD,GAHDC,UAGWA,UAAUC,MAAUC,YAApBF,UAAuCC,UAAAC,MAAA,SAEhD,WADAX,QAAOY,MAAM,mBAER,IAAIH,UAAUC,UAAUC,MAAM,YAEnC,WADAX,QAAOY,MAAM,mBAEd,IAAAH,UAAAC,UAAAC,MAAA,QAED,WAJEX,QAAOY,MAAM,2BAOf,IACEC,GADFA,EAAA,EAAA,KAAKC,IAAUN,GAIfK,GAAWC,EAAA,IAAAN,EAAsBK,GAAS,GAGxCE,IAAAA,GAAQC,oBAARH,EAAA,OAAAI,mBAAAb,EAEA,IAAA,iBAAqBA,QAAK,CAC1Bc,QAAAF,IAAA,aAEQA,QAAIX,KAAAD,EAAA,cAAZ,6GACAe,YAECJ,SAAEC,IAAA,kBACDI,EAAAA,UAAAA,EAAAA,aAAAA,WAHFA,KAKD,WACFA,MAqDCC,QAAAA,KAGSC,OAASC,kBAEnBC,QAAA,iDAFGxB,OAAOsB,SAASC,KAAOvB,OAAOyB,mBAiBhC,QAAKhB,KACHiB,GAAAA,EAEAA,IAAAA,UAAQhB,UAARC,MAAA,YAAAF,UAAAC,UAAAC,MAAA,SADKe,EAEA,UACL1B,CAAAA,IAAOY,UAAMF,UAAAC,MAAb,YAIFX,WAJEA,QAAOY,MAAM,oBACbc,GAAA,UAGF1B,OAAOsB,SAASC,KAAO,2BAA6BG,EA3ItD,GAAIC,GAAAA,GAAAA,OAAezB,CAEnBA,GAAE,cAIFA,EAAE,WAAW0B,GAAG,QAAS,WAIvBrB,EAAA,gBAAoBsB,KAAS,EAAAC,IAAA,EAAYC,MAAA,IAAAC,OAAA,IAAAC,MAAA,cAAAC,SAAA,MAA3ChC,EAAE,iBAAiB0B,GAAG,QAAS,WAI7BzB,EAAA,kEAAFD,EAAE,iBAAiB0B,GAAG,QAAS,WAI/BO","file":"aquaplayer_demo.js","sourcesContent":["window.requirejs([\n  'common'\n],\nfunction (Util, AquaPlayerService) {\n  var $ = $ || window.$;\n  var isAccessible = null;\n\n  $(function () {\n\n  });\n\n  $('#launch').on('click', function () {\n    launch('/api/v1/aqua', {left: 0, top: 0, width: 900, height: 600, title: 'AquaNPlayer', noresize: 0});\n  });\n\n  $('#launch_html5').on('click', function () {\n    launch_html5('http://eng-media-02.cdngc.net/cdnlab/cs1/tsbox/CSS_1500k.mp4');\n  });\n\n  $('#start_player').on('click', function () {\n    start_player();\n  });\n\n  function launch_html5 (url) {\n    var mf = window.open('/api/v1/aqua', 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n    mf.focus();\n  }\n\n  function launch (url, options) {\n    if ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPad/i))) {\n      window.alert('PC에서만 재생이 가능합니다.');\n      return;\n    } else if (navigator.userAgent.match(/Android/i)) {\n      window.alert('PC에서만 재생이 가능합니다.');\n      return;\n    } else if (navigator.userAgent.match(/Mac/i)) {\n      window.alert('Windows OS에서만 재생이 가능합니다.');\n      return;\n    }\n\n    var params = '';\n    var option;\n\n    for (option in options) {\n      params += option + '=' + options[option] + '&';\n    }\n\n    var href = 'nplayer://launch?' + params + 'url=' + encodeURIComponent(url);\n\n    if ('ActiveXObject' in window) {\n      console.log('is ActiveX');\n      // old active-x player\n      var mf = window.open(url, 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n      mf.focus();\n    } else {\n      console.log('is not ActiveX');\n      Util.launchUri(href, function () {}, function () {\n        indicateDownload();\n      }, function () {\n        indicateDownload();\n      });\n    }\n  }\n\n  function checkConnection () {\n    /* make sure you host a helloWorld HTML page in the following URL, so that requests are succeeded with 200 status code */\n    var url = 'http://127.0.0.1:8282';\n    $.ajax({\n      url: url,\n      type: 'get',\n      cache: false,\n      dataType: 'jsonp', // it is for supporting crossdomain\n      crossDomain: true,\n      asynchronous: true,\n      jsonpCallback: 'deadCode',\n      timeout: 1500, // set a timeout in milliseconds\n      complete: function (xhr, responseText, thrownError) {\n        if (xhr.status === '200') {\n          isAccessible = true;\n        } else {\n          isAccessible = false;\n        }\n      }\n    });\n  }\n\n  function launch_proxy (url, options) {\n    var params = '';\n    var option;\n\n    checkConnection();\n    if (isAccessible) {\n      var mf = window.open(url, 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n      mf.focus();\n    } else {\n      for (option in options) {\n        params += option + '=' + options[option] + '&';\n      }\n\n      var href = 'aquaweb://launch?' + params + 'url=' + encodeURIComponent(url);\n\n      Util.launchUriTmp(href, function () {\n        var mf = window.open(url, 'AquaNPlayer', 'left=0, top=0, width=900, height=600, menubar=no, directories=no, resizable=yes, status=no, scrollbars=no');\n        mf.focus();\n      }, function () {\n        indicateDownload2();\n      }, function () {\n        indicateDownload2();\n      });\n    }\n  }\n\n  function indicateDownload () {\n    var nc_app_url;\n\n    nc_app_url = window.NPLAYER_SETUP_URL;\n\n    if (confirm('동영상을 재생하기 위해서 재생플레이어를 설치하여야 합니다.\\n설치하시겠습니까?')) {\n      window.location.href = window.NPLAYER_SETUP_URL;\n    }\n  }\n\n  function indicateDownload2 () {\n    var nc_app_url;\n\n    nc_app_url = window.AQUAWEBAGENT_SETUP_URL;\n\n    if (cwindow.onfirm('동영상을 재생하기 위해서 AquaWebAgent 설치가 필요합니다.\\n설치하시겠습니까?')) {\n      window.location.href = nc_app_url;\n    }\n  }\n\n  function start_player () {\n    var mtype;\n\n    if ((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPad/i))) {\n      mtype = 'iOS';\n    } else if (navigator.userAgent.match(/Android/i)) {\n      mtype = 'Android';\n    } else {\n      window.alert('모바일에서만 재생이 가능합니다.');\n      return;\n    }\n\n    window.location.href = 'mobile/player.asp?mtype=' + mtype;\n  }\n});\n"],"sourceRoot":"/source/"}