{"version":3,"sources":["assignment.js"],"names":["window","requirejs","$","tableCheckAll","tableEmployee","Util","initDataTable","lengthMenu","orderable","targets","columnDefs","formUpload","bind","btnSubmit","rows","nodes","prop","this","checked","e","val","alert","focus","currentTabId","attr","data","get","filter","map","getElementById","files","length","submit"],"mappings":"AAAA,YAEAA,QAAOC,WAAY,UAEjB,SAAQC,GACR,GAAIC,GAAAA,GAAAA,OAAgBD,EACpBC,EAAAD,EAAA,cAEEE,EAAgBC,EAAQC,cAAcJ,EAAD,oBACrCK,aACIC,EAAAA,GAAAA,GAAW,IAAb,IAAoBC,EAAAA,GAAU,GADlB,GAFhB,OAKAC,aACIC,WAAaT,EAAEO,SAAA,OAEnBN,EAAcS,EAAd,eACID,EAAaP,EAAAA,mBADjBD,GAAcS,KAAK,QAAS,WAI5BC,EAAAA,YAAeT,EAASU,OAAaC,SAAAC,KAAA,UAAAC,KAAAC,WAGnCL,EAAMD,KAAA,QAAA,SAAFO,GAGF,GAFAnB,EAAAA,iBAEA,KAAAE,EAAA,4BAAAkB,MAGF,MAFCpB,QAAAqB,MAAA,eAFCnB,EAAE,4BAA4BoB,SAIhC,CAIE,IAAA,KAAApB,EAAA,+BAAAkB,MAGF,MAFCpB,QAAAqB,MAAA,iBAFCnB,EAAE,+BAA+BoB,SAI/BC,CAGJrB,IAAEqB,GAAArB,EAAA,oBAAiCqB,WAAnCC,KAAA,MAFIC,EAAO,IAMTA,QADFvB,EAAA,6BAAAkB,IAAAG,GACEE,GACE,IAAA,WAKA,KAJDA,EAAEC,EAFI,oBAAPtB,EAAAU,MAAAa,OAAA,YAAAZ,SAAAa,IAAA,WACE,MAAO1B,GAAEe,MAAMQ,KAAK,QAGtBC,MAAKD,KAAM,OAET,MACDzB,QAAAqB,MAAA,eADQ,CAGTnB,GAAE,qCAAqCkB,IAAIK,EAG7C,MACE,KAAA,QACEvB,GAAA,IAAAA,SAAE2B,eAAoBP,mBAAtBQ,MAAAC,OAGD,MAFC/B,GAAAA,oBAAasB,QACbtB,OAAAqB,MAAO,eACR,EAxCLV,EAAAqB","file":"assignment.js","sourcesContent":["\"use strict\";\n\nwindow.requirejs([ \"common\" ],\nfunction (Util) {\n  var $ = $ || window.$;\n  var tableCheckAll = $(\"#check-all\");\n  // var tableAssignment = Util.initDataTable($('#table_assignment'))\n  var tableEmployee = Util.initDataTable($(\"#table_employee\"), {\n    \"lengthMenu\": [ [5, 10, 25, 50, -1], [5, 10, 25, 50, \"전체\"] ],\n    \"columnDefs\": [\n      { orderable: false, targets: [0] }\n    ]});\n  var btnSubmit = $(\".btn-submit\");\n  var formUpload = $(\"#frm_upload_file\");\n\n  tableCheckAll.bind(\"click\", function () {\n    $(\":checkbox\", tableEmployee.rows().nodes()).prop(\"checked\", this.checked);\n  });\n\n  btnSubmit.bind(\"click\", function (e) {\n    e.preventDefault();\n\n    if ($(\"input[name='group_name']\").val() === \"\") {\n      window.alert(\"그룹명을 입력하세요.\");\n      $(\"input[name='group_name']\").focus();\n      return false;\n    }\n\n    // validation check2\n    if ($(\"textarea[name='group_desc']\").val() === \"\") {\n      window.alert(\"그룹 설명을 입력하세요.\");\n      $(\"textarea[name='group_desc']\").focus();\n      return false;\n    }\n\n    var currentTabId = $(\"ul.nav li.active\").children().attr(\"id\");\n    var data = null;\n\n    $(\"input[name='upload_type']\").val(currentTabId);\n\n    switch (currentTabId) {\n    case \"employee\": // 등록된 직원\n      data = $(\":checkbox:checked\", tableEmployee.rows({filter: \"applied\"}).nodes()).map(function () {\n        return $(this).data(\"id\");\n      }).get().join(\", \");\n\n      if (!data) {\n        window.alert(\"직원을 선택하세요.\");\n        return false;\n      }\n\n      $(\"input[name='upload_employee_ids']\").val(data);\n      break;\n\n    case \"excel\": // 파일업로드\n      if (document.getElementById(\"UploadExcelFile\").files.length === 0) {\n        $(\"#UploadExcelFile\").focus();\n        window.alert(\"파일을 선택하세요.\");\n        return false;\n      }\n      break;\n\n    default:\n      break;\n    }\n\n    formUpload.submit();\n  });\n});\n"],"sourceRoot":"/source/"}