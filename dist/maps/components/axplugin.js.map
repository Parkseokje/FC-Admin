{"version":3,"sources":["components/axplugin.js"],"names":["window","define","loadAquaAxPlugin","console","append","NPLAYER_SETUP_URL","AX_VERSION","setTimeout","AquaAxPlugin","InitAuth","log","checkAquaAxVersion","getElementById","L","object","setAquaAxPlugin","location","reload","url","param","authParam","mediaURL","setMegaSubtitle","OpenMedia","player","dupPlayerStop","fontName","fontSize","r","g","b","a","x","y","text","msg","NPLAYER_DUP_MSG","stop","setSubtitlePosition","setSubtitleText","getPlayerDuration","duration","parseInt","isDup","playbackrate","getDuration","getPlaybackRate","getCurrentPlaybackRate","getCurrentPosition","pos","getCurrentPlaybackTime"],"mappings":"AAAA,YACAA,QAAOC,UAAW,WAIhB,OAAAC,iBAAO,WAmBCC,GAlBND,OACEF,EAAAA,QAEGI,OAQC,2EACFD,OAAAE,kBACA,YAFFL,OAGOM,WACLC,2DAGE,KAAAJ,OAAYK,aAAZC,SALF,MAMEN,SAAAA,IAAQO,kBANH,CASHH,YAAMI,WACJR,GAAAA,GAAAA,SAAYS,eAAA,eAEbT,SAAAO,IAAA,IAAAG,EAAAC,QACFX,QAAAO,IAAA,WAAA,IAAAG,EAAAF,mBAAAX,OAAAM,aAEJO,EAAAC,SA7BE,IAAAD,EAAAF,mBAAAX,OAAAM,cAwBKH,QAAQO,IAAI,4BAQtBK,OAAiBC,SAAAC,WAGbjB,MAIDe,gBAAM,SAAAG,EAAAC,GACL,WAAA,KAAOnB,OAAPQ,aAAAC,WACDT,OAAAQ,aAAAY,UAAAD,EAzCEnB,OAAAQ,aAAAC,WAoCDT,OAAOQ,aAAaa,SAAWH,EAQnCI,OAAAA,aAAiBC,aACRC,IAMTC,gBAAe,SAAAC,EAAAC,EAAWC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACxBlC,OAAImC,OAAMnC,gBAAOoC,EAAjBT,GACA3B,OAAOwB,OAAOa,iBAAdT,EAAAC,EAAAC,EAAAC,GACAxB,OAAAA,OAAW+B,oBAAWN,EAAAC,GACpBjC,OAAAA,OAAAuC,gBAAAL,IAGHT,cA1DI,WAoDH,GAAIU,GAAMnC,OAAOoC,eAQnBI,QAAAA,OAAAA,OACEjC,WAAIkC,WACJzC,OAAO0C,MAAAA,IA9DJ,KAyDHC,OAAQ,GAURH,kBAAgBI,WAnEb,GAAAH,GAAAzC,OAAAwB,OAAAqB,aA8DH,OAAOH,UAAoB,IAAXD,IAUhBK,gBAAOJ,WACR,GAAAE,GAAA5C,OAAAwB,OAAAuB,wBAzEH,OAAAL,UAAA,IAAAE,IAsEEI,mBAAoB,WAClB,GAAIC,GAAMjD,OAAOwB,OAAO0B,wBACxB,OAAOR,UAAe,IAANO","file":"components/axplugin.js","sourcesContent":["\"use strict\";\nwindow.define([], function() {\n  // var timerid = 0;\n  // var isDup = false;\n\n  return {\n    loadAquaAxPlugin: function() {\n      window\n        .$(\"html\")\n        .append(\n          \"<OBJECT CLASSID=\\\"clsid:81C08477-A103-4FDC-B7A6-953940EAD67F\\\"  codebase=\\\"\" +\n            window.NPLAYER_SETUP_URL +\n            \"#version=\" +\n            window.AX_VERSION +\n            \"\\\" width=\\\"0\\\" height=\\\"0\\\" ID=\\\"AquaAxPlugin\\\" ></OBJECT>\"\n        );\n\n      if (typeof window.AquaAxPlugin.InitAuth !== \"undefined\") {\n        console.log(\"plugin loaded\");\n        return true;\n      } else {\n        setTimeout(function() {\n          var L = document.getElementById(\"AquaAxPlugin\");\n\n          console.log(\"L\", L.object);\n          console.log(\"version\", L.checkAquaAxVersion(window.AX_VERSION) === true);\n\n          if (L.object) {\n            if (L.checkAquaAxVersion(window.AX_VERSION) === true) {\n              console.log(\"AquaAxVersion confirmed.\");\n              window.location.reload();\n            }\n          }\n        }, 3000);\n      }\n    },\n\n    setAquaAxPlugin: function(url, param) {\n      if (typeof window.AquaAxPlugin.InitAuth !== \"undefined\") {\n        window.AquaAxPlugin.authParam = param;\n        window.AquaAxPlugin.InitAuth();\n        window.AquaAxPlugin.mediaURL = url;\n        window.AquaAxPlugin.OpenMedia();\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    setMegaSubtitle: function(fontName, fontSize, r, g, b, a, x, y, text) {\n      window.player.setSubtitleFont(fontName, fontSize);\n      window.player.setSubtitleColor(r, g, b, a);\n      window.player.setSubtitlePosition(x, y);\n      window.player.setSubtitleText(text);\n    },\n\n    dupPlayerStop: function() {\n      var msg = window.NPLAYER_DUP_MSG;\n      window.player.stop();\n      setTimeout(function() {\n        window.alert(msg);\n      }, 200);\n      isDup = true;\n    },\n\n    getPlayerDuration: function() {\n      var duration = window.player.getDuration();\n      return parseInt(duration * 1000);\n    },\n\n    getPlaybackRate: function() {\n      var playbackrate = window.player.getCurrentPlaybackRate();\n      return parseInt(playbackrate * 1000);\n    },\n\n    getCurrentPosition: function() {\n      var pos = window.player.getCurrentPlaybackTime();\n      return parseInt(pos * 1000);\n    }\n  };\n});\n"],"sourceRoot":"/source/"}